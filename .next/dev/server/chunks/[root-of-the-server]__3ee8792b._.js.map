{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/kirti.krishnan/Desktop/Projects/RTAA/rtaa/app/api/calls/end/route.ts"],"sourcesContent":["/**\n * Call End API - Finalizes a call when end marker is detected.\n * Marks the call as complete and performs any cleanup.\n */\n\nimport { NextResponse } from 'next/server';\n\ninterface EndCallRequest {\n  callId: string;\n}\n\nexport async function POST(req: Request) {\n  try {\n    const body: EndCallRequest = await req.json();\n\n    if (!body.callId) {\n      return NextResponse.json(\n        { ok: false, error: 'Missing callId' },\n        { status: 400 }\n      );\n    }\n\n    console.info('[call-end] Finalizing call', { callId: body.callId });\n\n    // TODO: Phase 2 - Implement call finalization logic:\n    // - Mark call as complete in database\n    // - Generate final summary/report\n    // - Cleanup resources\n    // - Notify relevant services\n\n    console.info('[call-end] Call finalized successfully', { callId: body.callId });\n\n    return NextResponse.json({\n      ok: true,\n      callId: body.callId,\n      status: 'completed',\n    });\n  } catch (err: any) {\n    console.error('[call-end] Error:', err);\n    return NextResponse.json(\n      { ok: false, error: err.message || String(err) },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;;AAMO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAuB,MAAM,IAAI,IAAI;QAE3C,IAAI,CAAC,KAAK,MAAM,EAAE;YAChB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,IAAI;gBAAO,OAAO;YAAiB,GACrC;gBAAE,QAAQ;YAAI;QAElB;QAEA,QAAQ,IAAI,CAAC,8BAA8B;YAAE,QAAQ,KAAK,MAAM;QAAC;QAEjE,qDAAqD;QACrD,sCAAsC;QACtC,kCAAkC;QAClC,sBAAsB;QACtB,6BAA6B;QAE7B,QAAQ,IAAI,CAAC,0CAA0C;YAAE,QAAQ,KAAK,MAAM;QAAC;QAE7E,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,IAAI;YACJ,QAAQ,KAAK,MAAM;YACnB,QAAQ;QACV;IACF,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,IAAI;YAAO,OAAO,IAAI,OAAO,IAAI,OAAO;QAAK,GAC/C;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}